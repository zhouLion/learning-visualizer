(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-623a8e32"],{"14d9":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demo-whiteboard"},[n("canvas",{ref:"canvas",attrs:{width:"400",height:"400"}}),n("div",{staticClass:"actions"},[n("svg",{staticClass:"icon",class:{active:!e.eraserEnabled},on:{click:e.brushHandler}},[n("use",{attrs:{"xlink:href":"#icon-Pencil"}})]),n("svg",{staticClass:"icon",class:{active:e.eraserEnabled},on:{click:e.eraserHandler}},[n("use",{attrs:{"xlink:href":"#icon-eraser"}})]),n("svg",{staticClass:"icon",on:{click:e.downloadHandler}},[n("use",{attrs:{"xlink:href":"#icon-save"}})]),n("svg",{staticClass:"icon",on:{click:e.clearHandler}},[n("use",{attrs:{"xlink:href":"#icon-clear"}})])]),n("ul",{staticClass:"sizes"},[n("li",{staticClass:"size thin action-item",class:{active:3===e.lineWidth},on:{click:function(t){e.lineWidth=3}}}),n("li",{staticClass:"size thick action-item",class:{active:6===e.lineWidth},on:{click:function(t){e.lineWidth=6}}})]),n("ul",{staticClass:"colors"},e._l(e.colorList,(function(t){return n("li",{key:t,staticClass:"color action-item",class:{active:t===e.strokeStyle},style:{backgroundColor:t},on:{click:function(n){return e.setColor(t)}}})})),0)])},a=[],s=n("2b0e"),c=s["a"].extend({data:function(){return{eraserEnabled:!1,lineWidth:3,strokeStyle:"",canvas:null,ctx:null,colorList:["#000000","#70FF56","#FB6164","#FFE931","#83FFB6","#FF7520"]}},mounted:function(){var e=this.$refs.canvas,t=e.getContext("2d");t&&(this.canvas=e,this.ctx=t,this.autoSetCanvasSize(e),this.initCanvasBackground(e,t),this.disableScroll(),this.registerUserEvents(e,t))},methods:{autoSetCanvasSize:function(e){function t(){var t=40,n=document.documentElement.clientWidth-t,i=document.documentElement.clientHeight;e.width=n,e.height=i}t(),window.onresize=function(){t()}},drawLine:function(e,t,n,i,a){e.beginPath(),e.moveTo(t,n),e.lineWidth=this.lineWidth||3,e.lineTo(i,a),e.stroke(),e.closePath()},registerUserEvents:function(e,t){var n=this,i=!1,a={x:0,y:0};void 0===document.body.ontouchstart?(e.addEventListener("mousedown",(function(e){i=!0;var s=e.offsetX,c=e.offsetY;n.eraserEnabled?t.clearRect(s-5,c-5,10,10):a={x:s,y:c}})),e.addEventListener("mousemove",(function(e){if(i){var s=e.offsetX,c=e.offsetY;if(n.eraserEnabled)t.clearRect(s-5,c-5,10,10);else{var o={x:s,y:c};n.drawLine(t,a.x,a.y,o.x,o.y),a=o}}})),e.addEventListener("mouseup",(function(e){i=!1}))):(e.addEventListener("touchstart",(function(e){i=!0;var s=e.touches[0].clientX,c=e.touches[0].clientY;n.eraserEnabled?t.clearRect(s-5,c-5,10,10):a={x:s,y:c}})),e.addEventListener("touchmove",(function(e){if(i){var s=e.touches[0].clientX,c=e.touches[0].clientY;if(n.eraserEnabled)t.clearRect(s-5,c-5,10,10);else{var o={x:s,y:c};n.drawLine(t,a.x,a.y,o.x,o.y),a=o}}})),e.addEventListener("touchend",(function(e){i=!1})))},downloadImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"untitled.jpeg",n=document.createElement("a");n.href=e,n.download=t,n.target="_blank",document.body.appendChild(n),n.click()},eraserHandler:function(){this.eraserEnabled=!0},brushHandler:function(){this.eraserEnabled=!1},clearHandler:function(){var e=this.ctx,t=this.canvas;e&&t&&e.clearRect(0,0,t.width,t.height)},downloadHandler:function(){var e=this.ctx,t=this.canvas;if(e&&t){var n=t.toDataURL("image/png");this.downloadImage(n,"我的画-在线画板.png")}},setColor:function(e){this.strokeStyle=e,this.ctx&&this.changeCtxStrokeStyle(this.ctx,e)},changeCtxStrokeStyle:function(e,t){e.strokeStyle=t},initCanvasBackground:function(e,t){t.fillStyle="white",t.fillRect(0,0,e.width,e.height)},disableScroll:function(){document.body.addEventListener("touchmove",(function(e){e.preventDefault()}))}}}),o=c,l=(n("96e5"),n("2877")),r=Object(l["a"])(o,i,a,!1,null,"179984fd",null);t["default"]=r.exports},"96e5":function(e,t,n){"use strict";n("e1ce")},e1ce:function(e,t,n){}}]);
//# sourceMappingURL=chunk-623a8e32.6db015f0.js.map