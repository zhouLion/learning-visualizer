{"version":3,"sources":["webpack:///./src/views/articles/canvas/chapterC03P01.vue?dd74","webpack:///./src/views/articles/canvas/assets/lena.jpeg","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/views/articles/canvas/chapterC03P01.vue?0a4d","webpack:///./src/views/articles/canvas/chapterC03P01.vue?480c","webpack:///./src/views/articles/canvas/chapterC03P01.vue?6069","webpack:///./src/views/articles/canvas/chapterC03P01.vue?9ebc"],"names":["module","exports","$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","i","k","length","len","E","this","A","n","arguments","TypeError","render","_vm","_h","$createElement","_c","_self","_v","staticClass","_m","ref","attrs","canvasSize","width","height","on","onmousemove","onSelect","style","backgroundColor","hoverColor","color","_s","selectedColor","staticRenderFns","extend","data","scale","mounted","canvas","$refs","loadImgToCanvas","methods","src","img","Image","crossOrigin","onload","ctx","getContext","drawImage","onerror","error","console","log","pickColorAtXY","x","y","imageData","getImageData","r","g","b","a","evt","layerX","layerY","component"],"mappings":"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","file":"js/chunk-10783f1f.34f8512e.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chapterC03P01.vue?vue&type=style&index=0&id=30e9904d&scoped=true&lang=less&\"","module.exports = __webpack_public_path__ + \"img/lena.be661704.jpeg\";","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"canvas - 图片处理\")]),_c('p',[_vm._v(\"canvas 上允许你操作图片颜色的红，绿，蓝以及透明度，通过这个，可以实现很多类似 Photoshop 上一样的功能。\")]),_c('h3',[_vm._v(\"色彩选择\")]),_c('table',{staticClass:\"canvas-demo-table\"},[_vm._m(0),_vm._m(1),_c('tbody',[_c('tr',[_c('td',[_c('canvas',{ref:\"canvas\",attrs:{\"width\":_vm.canvasSize.width,\"height\":_vm.canvasSize.height},on:{\"mousemove\":_vm.onmousemove,\"click\":_vm.onSelect}})]),_c('td',[_c('span',{style:({\n              backgroundColor: _vm.hoverColor,\n              color: '#eee'\n            })},[_vm._v(_vm._s(_vm.hoverColor))])]),_c('td',[_c('span',{style:({\n              backgroundColor: _vm.selectedColor,\n              color: '#eee'\n            })},[_vm._v(_vm._s(_vm.selectedColor))])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('colgroup',[_c('col',{attrs:{\"width\":\"50%\"}}),_c('col',{attrs:{\"width\":\"25%\"}}),_c('col',{attrs:{\"width\":\"25%\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"图片\")]),_c('th',[_vm._v(\"鼠标位置像素值\")]),_c('th',[_vm._v(\"选中像素值\")])])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport lena from './assets/lena.jpeg';\n\nexport default Vue.extend({\n  data() {\n    return {\n      canvasSize: {\n        width: 400,\n        height: 400,\n      },\n      scale: 1,\n      hoverColor: '',\n      selectedColor: '',\n    };\n  },\n  mounted() {\n    const canvas = this.$refs.canvas as HTMLCanvasElement;\n    this.loadImgToCanvas(lena, canvas);\n  },\n  methods: {\n    loadImgToCanvas(src: string, canvas: HTMLCanvasElement) {\n      const img = new Image();\n      const { width, height } = this.canvasSize;\n      img.src = src;\n      img.width = width;\n      img.height = height;\n      img.crossOrigin = 'cors';\n      img.onload = () => {\n        const ctx = canvas.getContext('2d');\n        if (ctx) {\n          ctx.drawImage(img, 0, 0, width, height);\n        }\n      };\n      img.onerror = error => console.log(error);\n    },\n\n    pickColorAtXY(\n      canvas: HTMLCanvasElement,\n      x: number,\n      y: number,\n    ) {\n      const ctx = canvas.getContext('2d');\n      if (ctx) {\n        const imageData = ctx.getImageData(x, y, 1, 1);\n        const [r, g, b, a] = imageData.data;\n        return `rgba(${r}, ${g}, ${b}, ${a / 255})`;\n      }\n      return 'rgba(0,0,0,0)';\n    },\n\n    onmousemove(evt: any) {\n      const target = evt.target as HTMLCanvasElement;\n      this.hoverColor = this.pickColorAtXY(target, evt.layerX, evt.layerY);\n    },\n\n    onSelect(evt: any) {\n      const target = evt.target as HTMLCanvasElement;\n      this.selectedColor = this.pickColorAtXY(target, evt.layerX, evt.layerY);\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chapterC03P01.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chapterC03P01.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./chapterC03P01.vue?vue&type=template&id=30e9904d&scoped=true&\"\nimport script from \"./chapterC03P01.vue?vue&type=script&lang=ts&\"\nexport * from \"./chapterC03P01.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./chapterC03P01.vue?vue&type=style&index=0&id=30e9904d&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30e9904d\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}