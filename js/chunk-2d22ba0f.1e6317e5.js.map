{"version":3,"sources":["webpack:///./src/views/articles/canvas/chapterC0402.vue?bae9","webpack:///./src/views/articles/canvas/chapterC0402.vue?04da","webpack:///./src/views/articles/canvas/chapterC0402.vue?121e","webpack:///./src/views/articles/canvas/chapterC0402.vue?95b0"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_m","on","rotateHandler","ref","attrs","directives","name","rawName","value","expression","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","type","multiple","modifiers","domProps","quality","_n","$forceUpdate","_s","preventDefault","saveHandler","apply","arguments","imageURL","_e","staticRenderFns","extend","data","mounted","draw","methods","canvas","$refs","canvasToRotate","ctx","getContext","ox","width","oy","height","font","textAlign","textBaseline","fillStyle","fillText","translate","rotate","Math","PI","toDataURL","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAG,kBAAkBF,EAAG,KAAK,CAACJ,EAAIM,GAAG,kBAAkBN,EAAIO,GAAG,GAAGP,EAAIO,GAAG,GAAGH,EAAG,WAAW,CAACI,GAAG,CAAC,MAAQR,EAAIS,gBAAgB,CAACT,EAAIM,GAAG,QAAQF,EAAG,SAAS,CAACM,IAAI,iBAAiBC,MAAM,CAAC,MAAQ,MAAM,OAAS,SAASP,EAAG,MAAMA,EAAG,KAAK,CAACJ,EAAIM,GAAG,yBAAyBN,EAAIO,GAAG,GAAGH,EAAG,IAAI,CAACJ,EAAIM,GAAG,kBAAkBF,EAAG,MAAM,CAACA,EAAG,OAAO,CAACA,EAAG,QAAQ,CAACO,MAAM,CAAC,IAAM,KAAK,CAACP,EAAG,OAAO,CAACJ,EAAIM,GAAG,WAAWF,EAAG,SAAS,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAQ,KAAEgB,WAAW,SAASL,MAAM,CAAC,KAAO,QAAQH,GAAG,CAAC,OAAS,SAASS,GAAQ,IAAIC,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKL,EAAOM,OAAOC,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAG,IAAIG,EAAM,WAAYH,EAAIA,EAAEI,OAASJ,EAAEV,MAAM,OAAOa,KAAO5B,EAAI8B,KAAKb,EAAOM,OAAOQ,SAAWb,EAAgBA,EAAc,MAAM,CAACd,EAAG,SAAS,CAACO,MAAM,CAAC,MAAQ,cAAc,CAACX,EAAIM,GAAG,eAAeF,EAAG,SAAS,CAACO,MAAM,CAAC,MAAQ,eAAe,CAACX,EAAIM,GAAG,oBAAoBF,EAAG,QAAQ,CAACO,MAAM,CAAC,IAAM,KAAK,CAACP,EAAG,OAAO,CAACJ,EAAIM,GAAG,WAAWF,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,iBAAiBC,MAAOf,EAAW,QAAEgB,WAAW,UAAUgB,UAAU,CAAC,QAAS,KAAQrB,MAAM,CAAC,KAAO,QAAQ,KAAO,UAAU,KAAO,MAAM,IAAM,MAAM,IAAM,KAAKsB,SAAS,CAAC,MAASjC,EAAW,SAAGQ,GAAG,CAAC,IAAM,SAASS,GAAQjB,EAAIkC,QAAQlC,EAAImC,GAAGlB,EAAOM,OAAOR,QAAQ,KAAO,SAASE,GAAQ,OAAOjB,EAAIoC,mBAAmBhC,EAAG,OAAO,CAACJ,EAAIM,GAAGN,EAAIqC,GAAGrC,EAAIkC,cAAc9B,EAAG,WAAW,CAACI,GAAG,CAAC,MAAQ,SAASS,GAAgC,OAAxBA,EAAOqB,iBAAwBtC,EAAIuC,YAAYC,MAAM,KAAMC,cAAc,CAACzC,EAAIM,GAAG,UAAUF,EAAG,MAAM,CAACO,MAAM,CAAC,IAAMX,EAAI0C,SAAS,IAAM,iBAAkB1C,EAAY,SAAEI,EAAG,IAAI,CAACO,MAAM,CAAC,KAAOX,EAAI0C,SAAS,SAAW,KAAK,CAAC1C,EAAIM,GAAG,QAAQN,EAAI2C,MAAM,MAAM,IAC3vDC,EAAkB,CAAC,WAAa,IAAI5C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACA,EAAG,OAAO,CAACJ,EAAIM,GAAG,6BAA6BN,EAAIM,GAAG,kCAAkCF,EAAG,OAAO,CAACJ,EAAIM,GAAG,yCAAyCN,EAAIM,GAAG,gBAAgB,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACJ,EAAIM,GAAG,QAAQF,EAAG,OAAO,CAACJ,EAAIM,GAAG,yCAAyCN,EAAIM,GAAG,yBAAyBF,EAAG,OAAO,CAACJ,EAAIM,GAAG,aAAa,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACJ,EAAIM,GAAG,QAAQF,EAAG,OAAO,CAACJ,EAAIM,GAAG,sDAAsDN,EAAIM,GAAG,4B,YCgD1qB,SAAIuC,OAAO,CACxBC,KADwB,WAEtB,MAAO,CACLJ,SAAU,GACVZ,KAAM,YACNI,QAAS,IAGba,QARwB,WAStB9C,KAAK+C,QAEPC,QAAS,CACPD,KADO,WAEL,IAAME,EAASjD,KAAKkD,MAAMC,eACpBC,EAAMH,EAAOI,WAAW,MAC9B,GAAID,EAAK,CACP,IAAME,EAAKL,EAAOM,MAAQ,EACpBC,EAAKP,EAAOQ,OAAS,EAC3BL,EAAIM,KAAO,aACXN,EAAIO,UAAY,SAChBP,EAAIQ,aAAe,SACnBR,EAAIS,UAAY,OAChBT,EAAIU,SAAS,UAAWR,EAAIE,KAGhChD,cAdO,WAeL,IAAMyC,EAASjD,KAAKkD,MAAMC,eACpBC,EAAMH,EAAOI,WAAW,MAC9B,GAAID,EAAK,CACP,IAAME,EAAKL,EAAOM,MAAQ,EACpBC,EAAKP,EAAOQ,OAAS,EAC3BL,EAAIW,UAAUT,EAAIE,GAElBJ,EAAIY,OAAQC,KAAKC,GAAK,IAAO,IAC7Bd,EAAIU,SAAS,UAAW,EAAG,GAE3BV,EAAIW,WAAWT,GAAKE,KAGxBlB,YA5BO,WA6BL,IAAMW,EAASjD,KAAKkD,MAAMC,eAClBtB,EAAkB7B,KAAlB6B,KAAMI,EAAYjC,KAAZiC,QACRQ,EAAWQ,EAAOkB,UAAUtC,EAAMI,GACxCjC,KAAKyC,SAAWA,MC5F6b,I,YCO/c2B,EAAY,eACd,EACAtE,EACA6C,GACA,EACA,KACA,KACA,MAIa,aAAAyB,E","file":"js/chunk-2d22ba0f.1e6317e5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"Canvas 基础交互：\")]),_c('h3',[_vm._v(\"3. 旋转 rotate\")]),_vm._m(0),_vm._m(1),_c('q-button',{on:{\"click\":_vm.rotateHandler}},[_vm._v(\"旋转\")]),_c('canvas',{ref:\"canvasToRotate\",attrs:{\"width\":\"300\",\"height\":\"300\"}}),_c('hr'),_c('h3',[_vm._v(\"4. 将 canvas 保存为图片文件\")]),_vm._m(2),_c('p',[_vm._v(\"试着点击「生成图片」按钮\")]),_c('div',[_c('form',[_c('label',{attrs:{\"for\":\"\"}},[_c('span',[_vm._v(\"文件类型：\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.type),expression:\"type\"}],attrs:{\"name\":\"type\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.type=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"image/png\"}},[_vm._v(\"image/png\")]),_c('option',{attrs:{\"value\":\"image/jpeg\"}},[_vm._v(\"image/jpeg\")])])]),_c('label',{attrs:{\"for\":\"\"}},[_c('span',[_vm._v(\"文件质量：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.quality),expression:\"quality\",modifiers:{\"number\":true}}],attrs:{\"type\":\"range\",\"name\":\"quality\",\"step\":\"0.1\",\"min\":\"0.1\",\"max\":\"1\"},domProps:{\"value\":(_vm.quality)},on:{\"__r\":function($event){_vm.quality=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('span',[_vm._v(_vm._s(_vm.quality))])]),_c('q-button',{on:{\"click\":function($event){$event.preventDefault();return _vm.saveHandler.apply(null, arguments)}}},[_vm._v(\"生成图片\")]),_c('img',{attrs:{\"src\":_vm.imageURL,\"alt\":\"canvasToImg\"}}),(_vm.imageURL)?_c('a',{attrs:{\"href\":_vm.imageURL,\"download\":\"\"}},[_vm._v(\"下载\")]):_vm._e()],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('code',[_vm._v(\"ctx.rotate(rad: number)\")]),_vm._v(\"会控制 Canvas 元素以指定的角度旋转，旋转时需要通过 \"),_c('code',[_vm._v(\"ctx.translate(x: number, y: number)\")]),_vm._v(\" 指定旋转原点。 \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\" 其中 \"),_c('code',[_vm._v(\"ctx.translate(x: number, y: number)\")]),_vm._v(\" 需要特别注意，如果不设置，默认值将会是 \"),_c('code',[_vm._v(\"0， 0\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\" 利用 \"),_c('code',[_vm._v(\"canvas.toDataURL(type: string, quality?: number)\")]),_vm._v(\" 方法，可以将画布转换为图片文件链接。 \")])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  data() {\n    return {\n      imageURL: '',\n      type: 'image/png',\n      quality: 1,\n    };\n  },\n  mounted() {\n    this.draw();\n  },\n  methods: {\n    draw() {\n      const canvas = this.$refs.canvasToRotate as HTMLCanvasElement;\n      const ctx = canvas.getContext('2d');\n      if (ctx) {\n        const ox = canvas.width / 2;\n        const oy = canvas.height / 2;\n        ctx.font = '40px serif';\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        ctx.fillStyle = '#f00';\n        ctx.fillText('祝大家中秋快乐', ox, oy);\n      }\n    },\n    rotateHandler() {\n      const canvas = this.$refs.canvasToRotate as HTMLCanvasElement;\n      const ctx = canvas.getContext('2d');\n      if (ctx) {\n        const ox = canvas.width / 2;\n        const oy = canvas.height / 2;\n        ctx.translate(ox, oy);\n        // 在 canvas 中，与圆弧、旋转相关的，都是用弧度来表示的。\n        ctx.rotate((Math.PI / 180) * 15);\n        ctx.fillText('祝大家中秋快乐', 0, 0);\n        // 将 translate 重置回来\n        ctx.translate(-ox, -oy);\n      }\n    },\n    saveHandler() {\n      const canvas = this.$refs.canvasToRotate as HTMLCanvasElement;\n      const { type, quality } = this;\n      const imageURL = canvas.toDataURL(type, quality);\n      this.imageURL = imageURL;\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chapterC0402.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chapterC0402.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./chapterC0402.vue?vue&type=template&id=0d35c49b&\"\nimport script from \"./chapterC0402.vue?vue&type=script&lang=ts&\"\nexport * from \"./chapterC0402.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}