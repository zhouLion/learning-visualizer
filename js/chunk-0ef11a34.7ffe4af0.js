(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ef11a34"],{"606c":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h2",[t._v("canvas - 图片处理")]),e("canvas",{ref:"canvas",attrs:{width:t.canvasSize.width,height:t.canvasSize.height}}),e("h3",[t._v("色彩处理")]),e("div",[e("q-button-group",[e("q-button",{attrs:{disabled:"origin"===t.colorType},on:{click:function(a){return t.onSwitchColor("origin")}}},[t._v("原图")]),e("q-button",{attrs:{disabled:"invert"===t.colorType},on:{click:function(a){return t.onSwitchColor("invert")}}},[t._v("反色")]),e("q-button",{attrs:{disabled:"pseudo"===t.colorType},on:{click:function(a){return t.onSwitchColor("pseudo")}}},[t._v("伪彩")]),e("q-button",{attrs:{disabled:"grayscale"===t.colorType},on:{click:function(a){return t.onSwitchColor("grayscale")}}},[t._v("灰度")])],1)],1),e("h3",[t._v("滤镜处理")]),e("div",[e("q-button-group",[e("q-button",{attrs:{disabled:"removeRed"===t.colorType},on:{click:function(a){return t.onSwitchColor("removeRed")}}},[t._v("去除红色通道")]),e("q-button",{attrs:{disabled:"removeGreen"===t.colorType},on:{click:function(a){return t.onSwitchColor("removeGreen")}}},[t._v("去除绿色通道")]),e("q-button",{attrs:{disabled:"removeBlue"===t.colorType},on:{click:function(a){return t.onSwitchColor("removeBlue")}}},[t._v("去除蓝色通道")])],1)],1)])},r=[],o=(e("d3b7"),e("2b0e")),i=e("7f4c"),d=e.n(i),c=o["a"].extend({data:function(){return{canvasSize:{width:400,height:400},img:null,colorType:"origin"}},mounted:function(){var t=this;this.loadImage(d.a).then((function(a){t.img=a,t.onSwitchColor("origin",!0)}))},methods:{loadImage:function(t){var a=new Image,e=this.canvasSize,n=e.width,r=e.height;return a.src=t,a.width=n,a.height=r,a.crossOrigin="cors",new Promise((function(t,e){a.onload=function(){return t(a)},a.onerror=e}))},onSwitchColor:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=this.img;if(a||this.colorType!==t){this.colorType=t;var n=this.$refs.canvas;if(e)switch(t){case"origin":this.drawOriginImg(n,e);break;case"invert":this.drawInvertImg(n,e);break;case"pseudo":this.drawPseudoImg(n,e);break;case"grayscale":this.drawGrayscaleImg(n,e);break;case"removeRed":this.drawDoubleChannelImg(n,e,0);break;case"removeGreen":this.drawDoubleChannelImg(n,e,1);break;case"removeBlue":this.drawDoubleChannelImg(n,e,2);break;default:break}}},drawOriginImg:function(t,a){var e=t.getContext("2d");e&&e.drawImage(a,0,0,t.width,t.height)},drawInvertImg:function(t,a){var e=t.getContext("2d");if(e){e.drawImage(a,0,0,t.width,t.height);var n=e.getImageData(0,0,t.width,t.height),r=n.data.length,o=0;while(o<=r){var i=n.data[o],d=n.data[o+1],c=n.data[o+2],h=n.data[o+3];n.data[o++]=255-i,n.data[o++]=255-d,n.data[o++]=255-c,n.data[o++]=h}e.putImageData(n,0,0)}},drawPseudoImg:function(t,a){var e=t.getContext("2d");if(e){e.drawImage(a,0,0,t.width,t.height);var n=e.getImageData(0,0,t.width,t.height),r=n.data.length,o=0;while(o<=r){var i=n.data[o],d=n.data[o+1],c=n.data[o+2],h=n.data[o+3];n.data[o++]=Math.round(.393*i+.769*d+.189*c),n.data[o++]=Math.round(.349*i+.686*d+.168*c),n.data[o++]=Math.round(.272*i+.534*d+.131*c),n.data[o++]=h}e.putImageData(n,0,0)}},drawGrayscaleImg:function(t,a){var e=t.getContext("2d");if(e){e.drawImage(a,0,0,t.width,t.height);var n=e.getImageData(0,0,t.width,t.height),r=n.data.length,o=0;while(o<=r){var i=n.data[o],d=n.data[o+1],c=n.data[o+2],h=n.data[o+3],u=Math.round((i+d+c)/3);n.data[o++]=u,n.data[o++]=u,n.data[o++]=u,n.data[o++]=h}e.putImageData(n,0,0)}},drawDoubleChannelImg:function(t,a,e){var n=t.getContext("2d");if(n){n.drawImage(a,0,0,t.width,t.height);var r=n.getImageData(0,0,t.width,t.height),o=r.data.length,i=0;while(i<=o)r.data[i+e]=0,i+=4;n.putImageData(r,0,0)}}}}),h=c,u=(e("7d51"),e("2877")),g=Object(u["a"])(h,n,r,!1,null,"27a135b4",null);a["default"]=g.exports},"7d51":function(t,a,e){"use strict";e("d004")},"7f4c":function(t,a,e){t.exports=e.p+"img/lena.be661704.jpeg"},d004:function(t,a,e){}}]);
//# sourceMappingURL=chunk-0ef11a34.7ffe4af0.js.map