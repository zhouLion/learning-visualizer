(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a0a6ffa6"],{2470:function(t,a,e){},"606c":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h2",[t._v("canvas - 图片处理")]),e("h3",[t._v("色彩处理")]),e("div",[e("canvas",{ref:"canvas",attrs:{width:t.canvasSize.width,height:t.canvasSize.height}}),e("q-button-group",[e("q-button",{attrs:{disabled:"origin"===t.colorType},on:{click:function(a){return t.onSwitchColor("origin")}}},[t._v("原图")]),e("q-button",{attrs:{disabled:"invert"===t.colorType},on:{click:function(a){return t.onSwitchColor("invert")}}},[t._v("反色")]),e("q-button",{attrs:{disabled:"pseudo"===t.colorType},on:{click:function(a){return t.onSwitchColor("pseudo")}}},[t._v("伪彩")]),e("q-button",{attrs:{disabled:"grayscale"===t.colorType},on:{click:function(a){return t.onSwitchColor("grayscale")}}},[t._v("灰度")])],1)],1)])},i=[],r=(e("d3b7"),e("2b0e")),o=e("7f4c"),c=e.n(o),d=r["a"].extend({data:function(){return{canvasSize:{width:400,height:400},img:null,colorType:"origin"}},mounted:function(){var t=this;this.loadImage(c.a).then((function(a){t.img=a,t.onSwitchColor("origin",!0)}))},methods:{loadImage:function(t){var a=new Image,e=this.canvasSize,n=e.width,i=e.height;return a.src=t,a.width=n,a.height=i,a.crossOrigin="cors",new Promise((function(t,e){a.onload=function(){return t(a)},a.onerror=e}))},onSwitchColor:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=this.img;if(a||this.colorType!==t){this.colorType=t;var n=this.$refs.canvas;if(e)switch(t){case"origin":this.drawOriginImg(n,e);break;case"invert":this.drawInvertImg(n,e);break;case"pseudo":this.drawPseudoImg(n,e);break;case"grayscale":this.drawGrayscaleImg(n,e);break;default:break}}},drawOriginImg:function(t,a){var e=t.getContext("2d");e&&e.drawImage(a,0,0,t.width,t.height)},drawInvertImg:function(t,a){var e=t.getContext("2d");if(e){e.drawImage(a,0,0,t.width,t.height);var n=e.getImageData(0,0,t.width,t.height),i=n.data.length,r=0;while(r<=i){var o=n.data[r],c=n.data[r+1],d=n.data[r+2],h=n.data[r+3];n.data[r++]=255-o,n.data[r++]=255-c,n.data[r++]=255-d,n.data[r++]=h}e.putImageData(n,0,0)}},drawPseudoImg:function(t,a){},drawGrayscaleImg:function(t,a){var e=t.getContext("2d");if(e){e.drawImage(a,0,0,t.width,t.height);var n=e.getImageData(0,0,t.width,t.height),i=n.data.length,r=0;while(r<=i){var o=n.data[r],c=n.data[r+1],d=n.data[r+2],h=n.data[r+3],s=Math.round((o+c+d)/3);n.data[r++]=s,n.data[r++]=s,n.data[r++]=s,n.data[r++]=h}e.putImageData(n,0,0)}}}}),h=d,s=(e("e47c"),e("2877")),g=Object(s["a"])(h,n,i,!1,null,"22fa5bc2",null);a["default"]=g.exports},"7f4c":function(t,a,e){t.exports=e.p+"img/lena.be661704.jpeg"},e47c:function(t,a,e){"use strict";e("2470")}}]);
//# sourceMappingURL=chunk-a0a6ffa6.9fd879c4.js.map