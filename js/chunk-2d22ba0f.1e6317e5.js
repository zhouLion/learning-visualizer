(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22ba0f"],{f07f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("Canvas 基础交互：")]),a("h3",[t._v("3. 旋转 rotate")]),t._m(0),t._m(1),a("q-button",{on:{click:t.rotateHandler}},[t._v("旋转")]),a("canvas",{ref:"canvasToRotate",attrs:{width:"300",height:"300"}}),a("hr"),a("h3",[t._v("4. 将 canvas 保存为图片文件")]),t._m(2),a("p",[t._v("试着点击「生成图片」按钮")]),a("div",[a("form",[a("label",{attrs:{for:""}},[a("span",[t._v("文件类型：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{name:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.type=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"image/png"}},[t._v("image/png")]),a("option",{attrs:{value:"image/jpeg"}},[t._v("image/jpeg")])])]),a("label",{attrs:{for:""}},[a("span",[t._v("文件质量：")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quality,expression:"quality",modifiers:{number:!0}}],attrs:{type:"range",name:"quality",step:"0.1",min:"0.1",max:"1"},domProps:{value:t.quality},on:{__r:function(e){t.quality=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}}),a("span",[t._v(t._s(t.quality))])]),a("q-button",{on:{click:function(e){return e.preventDefault(),t.saveHandler.apply(null,arguments)}}},[t._v("生成图片")]),a("img",{attrs:{src:t.imageURL,alt:"canvasToImg"}}),t.imageURL?a("a",{attrs:{href:t.imageURL,download:""}},[t._v("下载")]):t._e()],1)])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("code",[t._v("ctx.rotate(rad: number)")]),t._v("会控制 Canvas 元素以指定的角度旋转，旋转时需要通过 "),a("code",[t._v("ctx.translate(x: number, y: number)")]),t._v(" 指定旋转原点。 ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" 其中 "),a("code",[t._v("ctx.translate(x: number, y: number)")]),t._v(" 需要特别注意，如果不设置，默认值将会是 "),a("code",[t._v("0， 0")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" 利用 "),a("code",[t._v("canvas.toDataURL(type: string, quality?: number)")]),t._v(" 方法，可以将画布转换为图片文件链接。 ")])}],i=a("2b0e"),o=i["a"].extend({data:function(){return{imageURL:"",type:"image/png",quality:1}},mounted:function(){this.draw()},methods:{draw:function(){var t=this.$refs.canvasToRotate,e=t.getContext("2d");if(e){var a=t.width/2,n=t.height/2;e.font="40px serif",e.textAlign="center",e.textBaseline="middle",e.fillStyle="#f00",e.fillText("祝大家中秋快乐",a,n)}},rotateHandler:function(){var t=this.$refs.canvasToRotate,e=t.getContext("2d");if(e){var a=t.width/2,n=t.height/2;e.translate(a,n),e.rotate(Math.PI/180*15),e.fillText("祝大家中秋快乐",0,0),e.translate(-a,-n)}},saveHandler:function(){var t=this.$refs.canvasToRotate,e=this.type,a=this.quality,n=t.toDataURL(e,a);this.imageURL=n}}}),l=o,s=a("2877"),u=Object(s["a"])(l,n,r,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d22ba0f.1e6317e5.js.map