{"version":3,"sources":["webpack:///./src/views/articles/canvas/chapterC02P07.vue?29ef","webpack:///./src/views/articles/canvas/chapterC02P07.vue?9b0b","webpack:///./src/views/articles/canvas/chapterC02P07.vue?bec3","webpack:///./src/views/articles/canvas/chapterC02P07.vue?ad06"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_m","ref","attrs","staticRenderFns","extend","data","arcCanvas","arcCtx","pieCanvas","pieCtx","mounted","initCanvases","drawArc","drawPie","methods","$refs","getCanvasAndContext","canvas","ctx","autoSetCanvasSize","getContext","Error","setCanvasSize","defaultPadding","pageWidth","document","documentElement","clientWidth","width","window","onresize","center","radius","startDeg","endDeg","x","y","beginPath","moveTo","arc","closePath","strokeStyle","stroke","clearRect","i","length","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,yBAAyBH,EAAG,KAAK,CAACJ,EAAIO,GAAG,WAAWP,EAAIQ,GAAG,GAAGJ,EAAG,IAAI,CAACJ,EAAIO,GAAG,gBAAgBH,EAAG,SAAS,CAACK,IAAI,YAAYC,MAAM,CAAC,MAAQ,MAAM,OAAS,SAASN,EAAG,MAAMA,EAAG,KAAK,CAACJ,EAAIO,GAAG,WAAWP,EAAIQ,GAAG,GAAGJ,EAAG,SAAS,CAACK,IAAI,YAAYC,MAAM,CAAC,MAAQ,MAAM,OAAS,YAC7ZC,EAAkB,CAAC,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACJ,EAAIO,GAAG,SAASH,EAAG,OAAO,CAACJ,EAAIO,GAAG,YAAYP,EAAIO,GAAG,MAAMH,EAAG,OAAO,CAACJ,EAAIO,GAAG,YAAYP,EAAIO,GAAG,MAAMH,EAAG,OAAO,CAACJ,EAAIO,GAAG,cAAcP,EAAIO,GAAG,MAAMH,EAAG,OAAO,CAACJ,EAAIO,GAAG,YAAYP,EAAIO,GAAG,SAAS,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACJ,EAAIO,GAAG,SAASH,EAAG,OAAO,CAACJ,EAAIO,GAAG,cAAcP,EAAIO,GAAG,MAAMH,EAAG,OAAO,CAACJ,EAAIO,GAAG,YAAYP,EAAIO,GAAG,gC,wBC0Bje,SAAIK,OAAO,CACxBC,KADwB,WAEtB,MAAO,CACLC,UAAW,KACXC,OAAQ,KACRC,UAAW,KACXC,OAAQ,OAGZC,QATwB,WAUtBjB,KAAKkB,eAELlB,KAAKc,QAAUd,KAAKmB,QAAQnB,KAAKc,OAAQ,CAAC,IAAK,KAAM,IAAK,EAAG,KAC7Dd,KAAKoB,QAAQ,CAAC,IAAK,KAAM,IAAK,CAAC,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,OAEtDC,QAAS,CACPH,aADO,WAEL,GAAIlB,KAAKsB,MAAMT,UAAW,CACxB,MAA2Cb,KAAKuB,oBAAoBvB,KAAKsB,MAAMT,WAA/DA,EAAhB,EAAQW,OAAwBV,EAAhC,EAA2BW,IAC3BzB,KAAK0B,kBAAkBb,GACvBb,KAAKa,UAAYA,EACjBb,KAAKc,OAASA,EAEhB,GAAId,KAAKsB,MAAMP,UAAW,CACxB,MAA2Cf,KAAKuB,oBAAoBvB,KAAKsB,MAAMP,WAA/DA,EAAhB,EAAQS,OAAwBR,EAAhC,EAA2BS,IAC3BzB,KAAK0B,kBAAkBX,GACvBf,KAAKe,UAAYA,EACjBf,KAAKgB,OAASA,IAIlBO,oBAhBO,SAgBaC,GAClB,IAAMC,EAAMD,EAAOG,WAAW,MAC9B,IAAKF,EACH,MAAM,IAAIG,MAAM,aAElB,MAAO,CAAEJ,SAAQC,QAGnBC,kBAxBO,SAwBWF,GAChB,SAASK,IACP,IAAMC,EAAiB,GACjBC,EAAYC,SAASC,gBAAgBC,YAAcJ,EACzDN,EAAOW,MAAQJ,EAEjBF,IAEAO,OAAOC,SAAW,WAChBR,MAIJV,QArCO,SAqCCM,EAA+Ba,EAAkBC,EAAgBC,EAAkBC,GACzF,qBAAeH,EAAf,GAAOI,EAAP,KAAUC,EAAV,KACAlB,EAAImB,YACJnB,EAAIoB,OAAOH,EAAGC,GACdlB,EAAIqB,IAAIJ,EAAGC,EAAGJ,EAAQC,EAAUC,GAChChB,EAAIsB,YACJtB,EAAIuB,YAAc,OAClBvB,EAAIwB,UAGN7B,QA/CO,SA+CCkB,EAAkBC,EAAgBC,EAAoBC,GAC5D,qBAAeH,EAAf,GAAOI,EAAP,KAAUC,EAAV,KACMlB,EAAMzB,KAAKgB,OACjB,GAAKS,EAAL,CAGAA,EAAIyB,UAAU,EAAG,EAAO,EAAJR,EAAW,EAAJC,GAE3B,IAAK,IAAIQ,EAAI,EAAGA,EAAIX,EAASY,OAAQD,IACnCnD,KAAKmB,QAAQM,EAAKa,EAAQC,EAAQC,EAASW,GAAIV,EAAOU,SClGsZ,I,YCOhdE,EAAY,eACd,EACAvD,EACAY,GACA,EACA,KACA,KACA,MAIa,aAAA2C,E","file":"js/chunk-2d0de2bb.57343b46.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demo-restore\"},[_c('h2',[_vm._v(\"学习 Canvas: 制作扇形图和饼图\")]),_c('h3',[_vm._v(\"扇形图思路\")]),_vm._m(0),_c('p',[_vm._v(\"结果输出一个扇形图形\")]),_c('canvas',{ref:\"arcCanvas\",attrs:{\"width\":\"400\",\"height\":\"400\"}}),_c('hr'),_c('h3',[_vm._v(\"饼图思路：\")]),_vm._m(1),_c('canvas',{ref:\"pieCanvas\",attrs:{\"width\":\"400\",\"height\":\"400\"}})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\" 输入： \"),_c('code',[_vm._v(\"center\")]),_vm._v(\"、 \"),_c('code',[_vm._v(\"radius\")]),_vm._v(\"、 \"),_c('code',[_vm._v(\"startDeg\")]),_vm._v(\"和 \"),_c('code',[_vm._v(\"endDeg\")]),_vm._v(\"。 \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\" 输入的 \"),_c('code',[_vm._v(\"startDeg\")]),_vm._v(\"和 \"),_c('code',[_vm._v(\"endDeg\")]),_vm._v(\"两个数组，基于扇形图思路，执行函数的循环调用。 \")])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* eslint-disable no-param-reassign */\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  data() {\n    return {\n      arcCanvas: null as HTMLCanvasElement | null,\n      arcCtx: null as CanvasRenderingContext2D | null,\n      pieCanvas: null as HTMLCanvasElement | null,\n      pieCtx: null as CanvasRenderingContext2D | null,\n    };\n  },\n  mounted() {\n    this.initCanvases();\n    // eslint-disable-next-line no-unused-expressions\n    this.arcCtx && this.drawArc(this.arcCtx, [200, 200], 100, 0, 190);\n    this.drawPie([200, 200], 100, [30, 60, 90], [0, 90, 180]);\n  },\n  methods: {\n    initCanvases() {\n      if (this.$refs.arcCanvas) {\n        const { canvas: arcCanvas, ctx: arcCtx } = this.getCanvasAndContext(this.$refs.arcCanvas as HTMLCanvasElement);\n        this.autoSetCanvasSize(arcCanvas);\n        this.arcCanvas = arcCanvas;\n        this.arcCtx = arcCtx;\n      }\n      if (this.$refs.pieCanvas) {\n        const { canvas: pieCanvas, ctx: pieCtx } = this.getCanvasAndContext(this.$refs.pieCanvas as HTMLCanvasElement);\n        this.autoSetCanvasSize(pieCanvas);\n        this.pieCanvas = pieCanvas;\n        this.pieCtx = pieCtx;\n      }\n    },\n\n    getCanvasAndContext(canvas: HTMLCanvasElement) {\n      const ctx = canvas.getContext('2d');\n      if (!ctx) {\n        throw new Error('浏览器太非主流了吧');\n      }\n      return { canvas, ctx };\n    },\n\n    autoSetCanvasSize(canvas: HTMLCanvasElement) {\n      function setCanvasSize() {\n        const defaultPadding = 40;\n        const pageWidth = document.documentElement.clientWidth - defaultPadding;\n        canvas.width = pageWidth;\n      }\n      setCanvasSize();\n      // 改变窗口大小重新设置\n      window.onresize = () => {\n        setCanvasSize();\n      };\n    },\n\n    drawArc(ctx: CanvasRenderingContext2D, center: number[], radius: number, startDeg: number, endDeg: number) {\n      const [x, y] = center;\n      ctx.beginPath();\n      ctx.moveTo(x, y);\n      ctx.arc(x, y, radius, startDeg, endDeg);\n      ctx.closePath();\n      ctx.strokeStyle = '#000';\n      ctx.stroke();\n    },\n\n    drawPie(center: number[], radius: number, startDeg: number[], endDeg: number[]) {\n      const [x, y] = center;\n      const ctx = this.pieCtx;\n      if (!ctx) {\n        return;\n      }\n      ctx.clearRect(0, 0, x * 2, y * 2);\n      // eslint-disable-next-line no-plusplus\n      for (let i = 0; i < startDeg.length; i++) {\n        this.drawArc(ctx, center, radius, startDeg[i], endDeg[i]);\n      }\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chapterC02P07.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chapterC02P07.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./chapterC02P07.vue?vue&type=template&id=5fa49ff2&\"\nimport script from \"./chapterC02P07.vue?vue&type=script&lang=ts&\"\nexport * from \"./chapterC02P07.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}