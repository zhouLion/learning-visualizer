(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20072e93"],{1148:function(e,t,a){"use strict";var n=a("a691"),r=a("577e"),i=a("1d80");e.exports=function(e){var t=r(i(this)),a="",o=n(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(a+=t);return a}},"408a":function(e,t,a){var n=a("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=n(e))throw TypeError("Incorrect invocation");return+e}},b680:function(e,t,a){"use strict";var n=a("23e7"),r=a("a691"),i=a("408a"),o=a("1148"),l=a("d039"),u=1..toFixed,c=Math.floor,s=function(e,t,a){return 0===t?a:t%2===1?s(e,t-1,a*e):s(e*e,t/2,a)},v=function(e){var t=0,a=e;while(a>=4096)t+=12,a/=4096;while(a>=2)t+=1,a/=2;return t},f=function(e,t,a){var n=-1,r=a;while(++n<6)r+=t*e[n],e[n]=r%1e7,r=c(r/1e7)},m=function(e,t){var a=6,n=0;while(--a>=0)n+=e[a],e[a]=c(n/t),n=n%t*1e7},d=function(e){var t=6,a="";while(--t>=0)if(""!==a||0===t||0!==e[t]){var n=String(e[t]);a=""===a?n:a+o.call("0",7-n.length)+n}return a},p=u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){u.call({})}));n({target:"Number",proto:!0,forced:p},{toFixed:function(e){var t,a,n,l,u=i(this),c=r(e),p=[0,0,0,0,0,0],h="",g="0";if(c<0||c>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(h="-",u=-u),u>1e-21)if(t=v(u*s(2,69,1))-69,a=t<0?u*s(2,-t,1):u/s(2,t,1),a*=4503599627370496,t=52-t,t>0){f(p,0,a),n=c;while(n>=7)f(p,1e7,0),n-=7;f(p,s(10,n,1),0),n=t-1;while(n>=23)m(p,1<<23),n-=23;m(p,1<<n),f(p,1,1),m(p,2),g=d(p)}else f(p,0,a),f(p,1<<-t,0),g=d(p)+o.call("0",c);return c>0?(l=g.length,g=h+(l<=c?"0."+o.call("0",c-l)+g:g.slice(0,l-c)+"."+g.slice(l-c))):g=h+g,g}})},ec14:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v("Canvas 基础交互：")]),a("h3",[e._v("3. 旋转 rotate")]),e._m(0),e._m(1),a("q-button",{on:{click:e.rotateHandler}},[e._v("旋转")]),a("canvas",{ref:"canvasToRotate",attrs:{width:"300",height:"300"}}),a("hr"),a("h3",[e._v("4. 将 canvas 保存为图片文件")]),e._m(2),a("p",[e._v("试着改变一下表单中的参数，触发「生成图片」")]),a("div",[a("form",[a("label",{attrs:{for:""}},[a("span",[e._v("文件类型：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],attrs:{name:"type"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.type=t.target.multiple?a:a[0]},e.saveHandler]}},[a("option",{attrs:{value:"image/png"}},[e._v("image/png")]),a("option",{attrs:{value:"image/jpeg"}},[e._v("image/jpeg")])])]),a("label",{attrs:{for:""}},[a("span",[e._v("文件质量：")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.quality,expression:"quality",modifiers:{number:!0}}],attrs:{type:"range",name:"quality",step:"0.1",min:"0.1",max:"1"},domProps:{value:e.quality},on:{input:e.saveHandler,__r:function(t){e.quality=e._n(t.target.value)},blur:function(t){return e.$forceUpdate()}}}),a("span",[e._v(e._s(e.quality))])]),a("img",{attrs:{src:e.imageURL,alt:"img"}}),e.imageURL?a("a",{attrs:{href:e.imageURL,download:""}},[e._v("下载 "+e._s(e.imageFileSize))]):e._e()])])],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("code",[e._v("ctx.rotate(rad: number)")]),e._v("会控制 Canvas 元素以指定的角度旋转，旋转时需要通过 "),a("code",[e._v("ctx.translate(x: number, y: number)")]),e._v(" 指定旋转原点。 ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v(" 其中 "),a("code",[e._v("ctx.translate(x: number, y: number)")]),e._v(" 需要特别注意，如果不设置，默认值将会是 "),a("code",[e._v("0， 0")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v(" 利用 "),a("code",[e._v("canvas.toDataURL(type: string, quality?: number)")]),e._v(" 方法，可以将画布转换为图片文件链接。 ")])}],i=(a("b680"),a("2b0e")),o=i["a"].extend({data:function(){return{imageURL:"",type:"image/png",quality:1}},mounted:function(){this.draw()},computed:{imageFileSize:function(){return"".concat((this.imageURL.length/1024).toFixed(2),"KB")}},methods:{draw:function(){var e=this.$refs.canvasToRotate,t=e.getContext("2d");if(t){var a=e.width/2,n=e.height/2;t.font="40px serif",t.textAlign="center",t.textBaseline="middle",t.fillStyle="#f00",t.fillText("祝大家中秋快乐",a,n)}},rotateHandler:function(){var e=this.$refs.canvasToRotate,t=e.getContext("2d");if(t){var a=e.width/2,n=e.height/2;t.translate(a,n),t.rotate(Math.PI/180*15),t.fillText("祝大家中秋快乐",0,0),t.translate(-a,-n)}},saveHandler:function(){var e=this.$refs.canvasToRotate,t=this.type,a=this.quality,n=e.toDataURL(t,a);this.imageURL=n}}}),l=o,u=a("2877"),c=Object(u["a"])(l,n,r,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-20072e93.74877bfb.js.map